<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

<div class="container border border-1 p-3" style="max-width: 400px; margin: 20px auto;">
    <form th:action="@{/forgot-password/update-password}" th:object="${user}" method="post">
<!--        <input type="text" th:name="id" th:value="${session.id}">-->
        <div class="form-floating mb-3">
            <input type="password" class="form-control" th:field="*{password}"
                   oninput="checkPasswordMatch(document.getElementById('#confirmPassword'))">
            <label>Mật khẩu: </label>
        </div>

        <div class="form-floating mb-3">
            <input type="password" class="form-control" id="confirmPassword" oninput="checkPasswordMatch(this)">
            <label>Xác nhận mật khẩu: </label>
        </div>

        <div class="d-grid">
            <input type="submit" class="btn btn-primary btn-block mt-2" value="Đổi mật khẩu">
        </div>

    </form>
</div>

<script type="text/javascript">

    function checkPasswordMatch(confirmPassword) {
        if(confirmPassword.value !== $('#password').val()) {
            confirmPassword.setCustomValidity("Mật khẩu không khớp");
        } else {
            confirmPassword.setCustomValidity("");
        }
    }

</script>
</body>
</html>