<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<div class="container text-center">

    <div>
        <h2>Thay đổi mật khẩu</h2>
    </div>

    <form th:action="@{/reset_password}" method="post"
          style="max-width: 400px; margin: 20px auto;">
        <input type="hidden" name="token" th:value="${token}">
        <div class="border border-secondary rounded p-3">
            <div class="form-floating mb-3">
                <input type="password" class="form-control" name="password" id="password"
                       required autofocus placeholder="Nhập mật khẩu mới của bạn">
                <label>Mật khẩu: </label>
            </div>

            <div class="form-floating mb-3">
                <input type="password" class="form-control" name="confirmPassword"
                       required autofocus placeholder="Nhập mật khẩu mới của bạn"
                oninput="checkPasswordMatch(this);">
                <label>Xác nhận mật khẩu: </label>
            </div>

            <div class="d-grid">
                <input type="submit" class="btn btn-primary btn-block mt-2" value="Đổi mật khẩu">
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">

    function checkPasswordMatch(field) {
        if(field.value !== $('#password').val()) {
            field.setCustomValidity("Mật khẩu không khớp!");
        } else {
            field.setCustomValidity("");
        }
    }

</script>

</body>
</html>